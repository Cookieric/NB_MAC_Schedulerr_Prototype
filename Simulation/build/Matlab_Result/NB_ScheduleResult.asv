clear;
clc;
%=============模擬結果===========%
%% 檔案宣告 & 讀檔
%A(1,:) 第一Row ; A（：，1）第一Col
AverageDelay_low_pp_not_sameCE0 = csvread('AverageDelay_low_pp_not_sameCE0.csv');
AverageDelay_low_pp_not_sameCE1 = csvread('AverageDelay_low_pp_not_sameCE1.csv');
AverageDelay_low_pp_not_sameCE2 = csvread('AverageDelay_low_pp_not_sameCE2.csv');
AverageDelay_high_pp_not_sameCE0 = csvread('AverageDelay_high_pp_not_sameCE0.csv');
AverageDelay_high_pp_not_sameCE1 = csvread('AverageDelay_high_pp_not_sameCE1.csv');
AverageDelay_high_pp_not_sameCE2 = csvread('AverageDelay_high_pp_not_sameCE2.csv');
% resourceUtilization_pp_same = csvread('resourceUtilization_pp_same.csv');
<<<<<<< HEAD
resourceUtilization_pp_not_same = csvread('resourceUtilization_pp_not_same.csv');

=======
resourceUtilization_low_pp_not_same = csvread('resourceUtilization_low_pp_not_same.csv');
resourceUtilization_high_pp_not_same = csvread('resourceUtilization_high_pp_not_same.csv');
%% Case 3/4 Payload size 20~200 pareto dist. high offered load
>>>>>>> 9f8ee6e... ULSCH scheduler fixed resource allocation bug with Msg3 ReTx
AverageDelay_pp_not_sameCE0_H = csvread('AverageDelay_pp_not_sameCE0_H.csv');
AverageDelay_pp_not_sameCE1_H = csvread('AverageDelay_pp_not_sameCE1_H.csv');
AverageDelay_pp_not_sameCE2_H = csvread('AverageDelay_pp_not_sameCE2_H.csv');
resourceUtilization_pp_not_same_H = csvread('resourceUtilization_pp_not_same_H.csv');
<<<<<<< HEAD
% TrafficModel1_Simulation =
% csvread('SimArrivalMode1_M_5000_RA_Slot_1_12000.csv');
% TrafficModel2_Analysis =
% csvread('Analysis_TrafficMode2_M_5000_RA_Slot_0_2000.csv');
% xs0 = TrafficModel1_Simulation_PDF(:,1);
% ys0 = TrafficModel1_Simulation_PDF(:,2);
%xs1 = TrafficModel1_Analysis_PDF(:,1);
%ys1 = TrafficModel1_Analysis_PDF(:,2);
% xsCE0 = AverageDelay_pp_sameCE0(:,1);
% xsCE1 = AverageDelay_pp_sameCE1(:,1);
% xsCE2 = AverageDelay_pp_sameCE2(:,1);
% ysCE0 = AverageDelay_pp_sameCE0(:,2);
% ysCE1 = AverageDelay_pp_sameCE1(:,2);
% ysCE2 = AverageDelay_pp_sameCE2(:,2);

xs1CE0 = AverageDelay_pp_not_sameCE0(:,1);
xs1CE1 = AverageDelay_pp_not_sameCE1(:,1);
xs1CE2 = AverageDelay_pp_not_sameCE2(:,1);
ys1CE0 = AverageDelay_pp_not_sameCE0(:,2);
ys1CE1 = AverageDelay_pp_not_sameCE1(:,2);
ys1CE2 = AverageDelay_pp_not_sameCE2(:,2);

=======

AverageDelay_pp_not_sameCE0_L = csvread('AverageDelay_pp_not_sameCE0.csv');
AverageDelay_pp_not_sameCE1_L = csvread('AverageDelay_pp_not_sameCE1.csv');
AverageDelay_pp_not_sameCE2_L = csvread('AverageDelay_pp_not_sameCE2.csv');
resourceUtilization_pp_not_same_L = csvread('resourceUtilization_pp_not_same.csv');

%% Case 5 Payload size 20,40...200
AverageDelay_payloadSizeCE0 = csvread('AverageDelay_payloadSizeCE0.csv');
AverageDelay_payloadSizeCE1 = csvread('AverageDelay_payloadSizeCE1.csv');
AverageDelay_payloadSizeCE2 = csvread('AverageDelay_payloadSizeCE2.csv');
resourceUtili__payloadSize = csvread('resourceUtili__payloadSize.csv');

%% Case 6 three mapping method with low load, 0:highest,1:medium,2:lowest  Payload size 20,40...400
AverageDelay_payloadSizeCE0_0 = csvread('AverageDelay_payloadSizeCE0_0.csv');
AverageDelay_payloadSizeCE1_0 = csvread('AverageDelay_payloadSizeCE1_0.csv');
AverageDelay_payloadSizeCE2_0 = csvread('AverageDelay_payloadSizeCE2_0.csv');
AverageDelay_payloadSizeCE0_1 = csvread('AverageDelay_payloadSizeCE0_1.csv');
AverageDelay_payloadSizeCE1_1 = csvread('AverageDelay_payloadSizeCE1_1.csv');
AverageDelay_payloadSizeCE2_1 = csvread('AverageDelay_payloadSizeCE2_1.csv');
AverageDelay_payloadSizeCE0_2 = csvread('AverageDelay_payloadSizeCE0_2.csv');
AverageDelay_payloadSizeCE1_2 = csvread('AverageDelay_payloadSizeCE1_2.csv');
AverageDelay_payloadSizeCE2_2 = csvread('AverageDelay_payloadSizeCE2_2.csv');

resourceUtili__payloadSize_0 = csvread('resourceUtili__payloadSize_0.csv');
resourceUtili__payloadSize_1 = csvread('resourceUtili__payloadSize_1.csv');
resourceUtili__payloadSize_2 = csvread('resourceUtili__payloadSize_2.csv');
%% Case1/2
xsCE0 = AverageDelay_low_pp_not_sameCE0(:,1);
xsCE1 = AverageDelay_low_pp_not_sameCE1(:,1);
xsCE2 = AverageDelay_low_pp_not_sameCE2(:,1);
ysCE0 = AverageDelay_low_pp_not_sameCE0(:,2);
ysCE1 = AverageDelay_low_pp_not_sameCE1(:,2);
ysCE2 = AverageDelay_low_pp_not_sameCE2(:,2);

xs1CE0 = AverageDelay_high_pp_not_sameCE0(:,1);
xs1CE1 = AverageDelay_high_pp_not_sameCE1(:,1);
xs1CE2 = AverageDelay_high_pp_not_sameCE2(:,1);
ys1CE0 = AverageDelay_high_pp_not_sameCE0(:,2);
ys1CE1 = AverageDelay_high_pp_not_sameCE1(:,2);
ys1CE2 = AverageDelay_high_pp_not_sameCE2(:,2);

xs2_low_PP = resourceUtilization_low_pp_not_same(:,1);
ys2_low_PP = resourceUtilization_low_pp_not_same(:,2);
xs2_high_PP = resourceUtilization_high_pp_not_same(:,1);
ys2_high_PP = resourceUtilization_high_pp_not_same(:,2);

%% Case 3/4 Payload size 20~200 pareto dist. high offered load
>>>>>>> 9f8ee6e... ULSCH scheduler fixed resource allocation bug with Msg3 ReTx
xs1CE0_H = AverageDelay_pp_not_sameCE0_H(:,1);
xs1CE1_H = AverageDelay_pp_not_sameCE1_H(:,1);
xs1CE2_H = AverageDelay_pp_not_sameCE2_H(:,1);
ys1CE0_H = AverageDelay_pp_not_sameCE0_H(:,2);
ys1CE1_H = AverageDelay_pp_not_sameCE1_H(:,2);
ys1CE2_H = AverageDelay_pp_not_sameCE2_H(:,2);

<<<<<<< HEAD
% xs2 = resourceUtilization_pp_same(:,1);
% ys2 = resourceUtilization_pp_same(:,2);
xs3 = resourceUtilization_pp_not_same(:,1);
ys3 = resourceUtilization_pp_not_same(:,2);
xs3_H = resourceUtilization_pp_not_same_H(:,1);
ys3_H = resourceUtilization_pp_not_same_H(:,2);

=======
xs1CE0_L = AverageDelay_pp_not_sameCE0_L(:,1);
xs1CE1_L = AverageDelay_pp_not_sameCE1_L(:,1);
xs1CE2_L = AverageDelay_pp_not_sameCE2_L(:,1);
ys1CE0_L = AverageDelay_pp_not_sameCE0_L(:,2);
ys1CE1_L = AverageDelay_pp_not_sameCE1_L(:,2);
ys1CE2_L = AverageDelay_pp_not_sameCE2_L(:,2);

xs3_H = resourceUtilization_pp_not_same_H(:,1);
ys3_H = resourceUtilization_pp_not_same_H(:,2);
xs3_L = resourceUtilization_pp_not_same_L(:,1);
ys3_L = resourceUtilization_pp_not_same_L(:,2);

%% Case 5  Payload size 20,40...200
xPs_CE0 = AverageDelay_payloadSizeCE0(:,1);
xPs_CE1 = AverageDelay_payloadSizeCE1(:,1);
xPs_CE2 = AverageDelay_payloadSizeCE2(:,1);
yPs_CE0 = AverageDelay_payloadSizeCE0(:,2);
yPs_CE1 = AverageDelay_payloadSizeCE1(:,2);
yPs_CE2 = AverageDelay_payloadSizeCE2(:,2);
% xs2 = resourceUtilization_pp_same(:,1);
% ys2 = resourceUtilization_pp_same(:,2);
% xs3 = resourceUtilization_pp_not_same(:,1);
% ys3 = resourceUtilization_pp_not_same(:,2);
xPs_U = resourceUtili__payloadSize(:,1);
yPs_U = resourceUtili__payloadSize(:,2);
%% Case6
xPs_CE0_0 = AverageDelay_payloadSizeCE0_0(:,1);
yPs_CE0_0 = AverageDelay_payloadSizeCE0_0(:,2);
yPs_CE1_0 = AverageDelay_payloadSizeCE1_0(:,2);
yPs_CE2_0 = AverageDelay_payloadSizeCE2_0(:,2);
yPs_CE0_1 = AverageDelay_payloadSizeCE0_1(:,2);
yPs_CE1_1 = AverageDelay_payloadSizeCE1_1(:,2);
yPs_CE2_1 = AverageDelay_payloadSizeCE2_1(:,2);
yPs_CE0_2 = AverageDelay_payloadSizeCE0_2(:,2);
yPs_CE1_2 = AverageDelay_payloadSizeCE1_2(:,2);
yPs_CE2_2 = AverageDelay_payloadSizeCE2_2(:,2);

xPs_U_0 = resourceUtili__payloadSize_0(:,1);
yPs_U_0 = resourceUtili__payloadSize_0(:,2);
yPs_U_1 = resourceUtili__payloadSize_1(:,2);
yPs_U_2 = resourceUtili__payloadSize_2(:,2);
>>>>>>> 9f8ee6e... ULSCH scheduler fixed resource allocation bug with Msg3 ReTx
%% Check Arrival Model: Poission Distribution
% figure(6);
% xs0 = TrafficModel1_Simulation(1:12000,1);
% ys0 = TrafficModel1_Simulation(1:12000,2);

% hsa = plot(xs0, ys0,'bsquare',xs0, ys0, 'gdiamond', xs0, ys2, 'ro'); 
%hsa = plot(xs0, ys0,'ro',xs1, ys1, 'b-'); 
% hs = plot(xs0, ys0,'bo');
% %  ha=plot(xa0, ya0,'b-'); 
% set(hs, 'linewidth', 1.5);    % 曲線寬度改為1.5
% %hold on;
% % set(gca,'xtick',[0:2000:18000],'ytick',[0:500:5000]);
% set(gca,'ytick',[0:1:10]);
% axis([0, 20, 0,0.4]);
% xlabel('k'),ylabel('P(X=k)');
% title('Sim. Arrival Model 1');
% legend('Sim');
% legend('Sim','Anal');
% %legend('Nc/N Simulation','Nc/N Numerical','(Nc+Ns)/N Simulation','(Nc+Ns)/N Numerical');
% legend('Sim Mi[1], M=5000','Sim Mi[1], M=10000','Sim Mi[1], M=30000');
% % legend('Analysis');
% grid on
%% Check Simulation: Utilization
% hs = plot(xs, ys,'bo-');
% hs = plot(xsCE0, ysCE0,'bo-',xsCE1,ysCE1,'rsquare-',xsCE2,ysCE2,'gdiamond-');
<<<<<<< HEAD
% hs = plot(xsCE0, ysCE0,'bo-',xsCE1,ysCE1,'rsquare-',xsCE2,ysCE2,'gdiamond-',xs1CE0, ys1CE0,'co-',xs1CE1,ys1CE1,'ksquare-',xs1CE2,ys1CE2,'ydiamond-');
hs = plot(xsCE0, ysCE0,'bo-',xsCE1,ysCE1,'rsquare-',xsCE2,ysCE2,'gdiamond-',xs1CE0, ys1CE0,'co-',xs1CE1,ys1CE1,'ksquare-',xs1CE2,ys1CE2,'ydiamond-');
% hs = plot(xs, ys,'bo',xs1, ys1,'rsquare',xs2, ys2,'gdiamond');
=======
%% Case1/2 in paper
figure(1)
hs = plot(xsCE0, ysCE0,'bo-',xsCE1,ysCE1,'rsquare-',xsCE2,ysCE2,'gdiamond-',xs1CE0, ys1CE0,'co-',xs1CE1,ys1CE1,'ksquare-',xs1CE2,ys1CE2,'ydiamond-');
legend('Case1:CE0','Case1:CE1','Case1:CE2','Case2:CE0','Case2:CE1','Case2:CE2');
>>>>>>> 9f8ee6e... ULSCH scheduler fixed resource allocation bug with Msg3 ReTx
set(hs, 'linewidth', 1.5);    % 曲線寬度改為1.5
axis([0, 60, 0,2000]);
xlabel('Total # of UE'),ylabel('(Da)(ms)');
title('Average Delay for each UE in three CE levels');
<<<<<<< HEAD
legend('Case1:CE0','Case1:CE1','Case1:CE2','Case2:CE0','Case2:CE1','Case2:CE2');
hold on;
figure(2)
% hs1 = plot(xs2, ys2,'bo-');
hs1 = plot(xs2, ys2,'bo-',xs3,ys3,'rsquare-');
set(hs1, 'linewidth', 1.5);    % 曲線寬度改為1.5
set(hs1, 'linewidth', 1.5);    % 曲線寬度改為1.5
axis([0, 60, 0,1]);
set(gca,'ytick',[0:0.1:1]);
xlabel('Total # of UE'),ylabel('(U)(resource utilization)');
title('Resource utilization');
legend('Case1:pp are the same for three CE levels','Case2:pp are different for three CE levels');

=======
grid on
figure(2)
hs1 = plot(xs2_low_PP, ys2_low_PP,'bo-',xs2_high_PP,ys2_high_PP,'rsquare-');
set(hs1, 'linewidth', 1.5);    % 曲線寬度改為1.5
axis([0, 60, 0,1]);
title('Resource utilization');
legend('Case1','Case2');
grid on
%% Case3/4 in paper
figure(3)
% hs1 = plot(xs3_H, ys3_H,'ro-');
hs2 = plot(xs1CE0_H, ys1CE0_H,'bo-',xs1CE1_H,ys1CE1_H,'rsquare-',xs1CE2_H,ys1CE2_H,'gdiamond-');
axis([0, 600, 0,2000]);
legend('Case3:CE0','Case3:CE1','Case3:CE2');
set(hs2, 'linewidth', 1.5);    % 曲線寬度改為1.5
xlabel('Total # of UE'),ylabel('(Da)(ms)');
title('Average Delay for each UE in three CE levels');
grid on
figure(4)
hs3 = plot(xs1CE0_L, ys1CE0_L,'co-',xs1CE1_L,ys1CE1_L,'ksquare-',xs1CE2_L,ys1CE2_L,'ydiamond-');
axis([0, 60, 0,2000]);
legend('Case4:CE0','Case4:CE1','Case4:CE2');
set(hs3, 'linewidth', 1.5);    % 曲線寬度改為1.5
xlabel('Total # of UE'),ylabel('(Da)(ms)');
title('Average Delay for each UE in three CE levels');
grid on
figure(5)
hs4 = plot(xs3_H, ys3_H,'bo-');
set(hs4, 'linewidth', 1.5);    % 曲線寬度改為1.5
axis([0, 600, 0,1]);
title('Resource utilization');
legend('Case3');
grid on
figure(6)
hs5 = plot(xs3_L,ys3_L,'rsquare-');
set(hs5, 'linewidth', 1.5);    % 曲線寬度改為1.5
axis([0, 60, 0,1]);
title('Resource utilization');
legend('Case3');
% legend('Case3:pp are diff for each CE levels with high offered load');
% legend('Case4:pp are different for three CE levels with high offered load');
grid on
%% Case5 in paper
figure(7)
hs6 = plot(xPs_CE0, yPs_CE0,'co-',xPs_CE1,yPs_CE1,'ksquare-',xPs_CE2,yPs_CE2,'ydiamond-');
legend('Case5:CE0','Case5:CE1','Case5:CE2');
% hs = plot(xs, ys,'bo',xs1, ys1,'rsquare',xs2, ys2,'gdiamond');
set(hs6, 'linewidth', 1.5);    % 曲線寬度改為1.5
xlabel('Payload Size of each UE'),ylabel('(Da)(ms)');
title('Average Delay for each UE in three CE levels');
figure(8)
hs7 = plot(xPs_U, yPs_U,'ro-');
set(hs7, 'linewidth', 1.5);    % 曲線寬度改為1.5
axis([0, 200, 0,1]);
set(gca,'ytick',[0:0.1:1]);
xlabel('Payload Size of each UE'),ylabel('(U)(resource utilization)');
legend('Case5:PP are different with different payload size for three CE levels');
grid on
%%  Case6
figure(9)
A = [0.6 0.8 1;0.5 0.4 0.3];
% hs8 = plot(xPs_CE0_0,yPs_CE0_0,'color',A(1,:),'o-',xPs_CE0_0,yPs_CE1_0,'color',A(2,:),'square-');
hs8 = plot(xPs_CE0_0, yPs_CE0_0,'co-',xPs_CE0_0,yPs_CE0_1,'ksquare-',xPs_CE0_0,yPs_CE0_2,'ydiamond-');
set(hs8, 'linewidth', 1.5);    % 曲線寬度改為1.5
xlabel('Payload Size of each UE'),ylabel('(Da)(ms)');
title('Average Delay for each UE in three CE levels');
legend('CE0:Highest buffer size','CE1:Highest buffer size','CE2:Highest buffer size');
set(hs8, 'linewidth', 1.5);    % 曲線寬度改為1.5
grid on
figure(10)
hs9 = plot(xPs_CE0_0, yPs_CE1_0,'co-',xPs_CE0_0,yPs_CE1_1,'ksquare-',xPs_CE0_0,yPs_CE1_2,'ydiamond-');
set(hs9, 'linewidth', 1.5);    % 曲線寬度改為1.5
xlabel('Payload Size of each UE'),ylabel('(Da)(ms)');
title('Average Delay for each UE in three CE levels');
legend('CE0:Highest buffer size','CE1:Highest buffer size');
set(hs8, 'linewidth', 1.5);    % 曲線寬度改為1.5
grid on
figure(11)
hs10 = plot(xPs_CE0_0, yPs_CE2_0,'co-',xPs_CE0_0,yPs_CE2_1,'ksquare-',xPs_CE0_0,yPs_CE2_2,'ydiamond-');
set(hs10, 'linewidth', 1.5);    % 曲線寬度改為1.5
xlabel('Payload Size of each UE'),ylabel('(Da)(ms)');
title('Average Delay for each UE in three CE levels');
legend('CE0:Highest buffer size','CE1:Highest buffer size','CE2:Highest buffer size');
set(hs8, 'linewidth', 1.5);    % 曲線寬度改為1.5
xlabel('Payload Size of each UE'),ylabel('(Da)(ms)');
title('Average Delay for each UE in three CE levels');
grid on
figure(12)
hs9 = plot(xPs_U_0, yPs_U_0,'ro-',xPs_U_0,yPs_U_1,'ksquare-',xPs_U_0,yPs_U_2,'ydiamond-');
set(hs9, 'linewidth', 1.5);    % 曲線寬度改為1.5
axis([0, 400, 0,1]);
set(gca,'ytick',[0:0.1:1]);
xlabel('Payload Size of each UE'),ylabel('(U)(resource utilization)');
legend('Case6:three different buffer size mapping mehtod');
grid on
>>>>>>> 9f8ee6e... ULSCH scheduler fixed resource allocation bug with Msg3 ReTx
